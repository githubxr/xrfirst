
//原生groovy解析方式，得先导入java类型定义
import org.first.order.entity.OrderItem

// 前端编写的 Groovy 脚本字符串
def calcDiscount(OrderItem item) {
    if (item.goodsNum > 30) {
        return 0.8
    } else if (item.goodsNum > 20) {
        return 0.9
    } else {
        return 1
    }
}

// 执行入口(item来自传入的item实例)
calcDiscount(item)